# 01.소프트웨어 개발 보안 설계 (⭐⭐⭐)

- SW 개발 보안 : 소프트웨어 개발 과정에서 지켜야 할 일련의 보안 활동
- SW 개발 보안 생명주기 : 요구사항 명세 → 설계 → 구현 → 테스트 → 유지보수
- SW 개발 보안 3대 요소
    - 기밀성(Confidentiality) : 시스템 내의 정보와 자원은 인가된 사용자에게만 접근이 허용
    - 무결성(Integrity) : 시스템 내의 정보는 오직 인가된 사용자만 수정할 수 있음
    - 가용성(Availability) : 인가받은 사용자는 시스템 내의 정보와 자원을 언제라도 사용할 수 있음

- Dos(Denial of Service) 공격 : 시스템을 악의적으로 공격해서 해당 시스템의 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
- Dos 공격의 종류
    - SYN 플러딩(SYN Flooding) : 서버의 동시 가용 사용자수를 SYN 패킷만 보내 점유하여 다른 사용자가 서버를 사용 불가능하게 하는 공격
    - UDP 플러딩(UDP Flooding) : 대량의 UDP 패킷을 만들어 임의의 포트 번호로 전송하여 응답메세지를 생성하게 하여 지속해서 자원을 고갈시키는 공격
    - 스머프(Smurf)/스머핑(Smurfing) : 출발지 주소를 대상의 IP로 설정하여 네트워크 전체에게 ICMP Echo패킷을 직접 브로드캐스팅하여 마비시키는 공격
    - 죽음의 핑(PoD : Ping Of Death) : ICMP 패킷을 정상적인 크기보다 아주 크게 만들어 전송하여 다수의 IP단편화를 발생시켜 수신 측에서 단편화된 패킷을 재조합 하는 과정에서 부하를 발생시켜 정상적인 서비스를 하지 못하도록하는 공격기법
    - 랜드 어택(Land Attack) : 출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보내 시스템의 가용성을 침해하는 공격
    - 봉크(Bonk)/보잉크(Boink) : 프로토콜의 오류 제어를 이용한 공격기법으로서 시스템의 패킷 재전송과 재조립이 과부화를 유발

  봉크 : 같은 시퀀스 번호를 계속해서 보냄

  보잉크 : 일정한 간격으로 시퀀스 번호에 빈 공간 생성

- DDoS(Distributed Denial Of Service) : 여러 대의 공격자를 분산 배치하여 동시에 동작하게함으로써 특정 사이트를 공격하는 기법
- DDoS 공격도구
    - Trinoo : 많은 소스로부터 통합된 UDP flood 서비스 거부 공격을 유발하는 데 사용되는 도구
    - Tribe Flood Network : 많은 소스에서 하나 혹은 여러개의 목표 시스템에 대해 서비스 거부 공격을 수행할 수 있는 도구
    - Stacheldraht : 분산 서비스 거부 에이전트 역할을 하는 Linux 및 Solaris 시스템용 멀웨어 도구

- DoS와 DDoS의 차이
    - DoS는 직접 공격, DDoS는 공격하도록 지시
    - DoS는 한 사람에 의해 공격을 감행, DDoS는 수많은 감염 호스트를 통해 공격을 감행

- DRDoS(Distributed Reflection DoS) : 공격자는 출발지의 IP를 공격대상 IP로 위조하여 다수의 반사 서버로 요청 정보를 전송, 공격 대상자는 반사 서버로부터 다량의 응답을 받아서 서비스 거부(DoS)되는 공격

- 애플리케이션 공격 기법
    - HTTP GET 플러딩 : 과도한 Get메세지를 이용하여 웹 서버의 과부하를 유발시키는 공격
    - Slowloris : HTTP GET 메서드를 사용하여 헤더의 최종 끝을 알리는 개행 문자열을 전송하지 않고, 대상 웹 서버와 연결상태를 장시간 지속시키고 연결자원을 모두 소진시키는 서비스 거부 공격
    - RUDY : 요청 헤더의 Content-Length를 비정상적으로 크게 설정하여 메시지 바디 부분을 매우 소량으로 보내 계속 연결상태를 유지시키는 공격
    - Slow HTTP Read DoS : 다수 HTTP 패킷을 지속적으로 전송하여 웹서버의 연결상태가 장시간 지속, 연결자원을 소진시키는 서비스 거부 공격
    - Hulk DoS : 공격자가 웹 페이지 주소를 지속적으로 변경하면서 다향으로 GET요청을 발생시키는 서비스 거부 공격
    - Hash DoS : 많은 수의 파라미터를 POST방식으로 웹서버로 전달하여 다수의 해시 충돌을 발생시켜서 자원을 소모시키는 서비스 거부 공격

- 네트워크 공격 기법
    - 스니핑 : 공격대상의 데이터만 몰래 들여다보는 수동적 공격 기법
    - 네트워크 스캐너, 스니퍼 : 네트워크 하드웨어 및 소프트웨어 구성의 취약점 파악을 위해 공격자가 취약점을 탐색하는 공격 도구
    - 패스워드 크래킹
        - 사전 크래킹 : ID와 PW가 될 가능성이 있는 단어를 파일로 만들어 파일의 단어를 대입하여 크랙하는 공격 기법
        - 무차별 크래킹 : 무작위로 패스워드 자리에 대입하여 패스워드를 알아내는 공격 기법
        - 패스워드 하이브리드 공격 : 사전 크래킹 + 무차별 크래킹
        - 레인보우 테이블 공격 : 크래킹 하고자 하는 해시 값을 테이블에서 검색해서 역으로 패스워드를 찾는 공격 기법
    - IP 스푸핑 : 침입자가 인증된 컴퓨팅 시스템인 것처럼 속여서 인증된 호스트의 IP 주소로 위조하여 타깃에 전송하는 공격 기법
    - ARP 스푸핑 : 공격자가 특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Reply를 만들어 희생자에세 지속적으로 전송
    - ICPM Redirect 공격 : 스니핑 시스템을 네트워크에 존재하는 또다른 라우터라고 알림으로써 패킷의 흐름을 바꾸는 공격 기법
    - 트로이 목마 : 악성 루틴이 숨어있는 프로그램, 실행하면 악성 코드를 실행

- 시스템 보안 위험
    - 버퍼 오버플로우 공격 : 메모리에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력하여 프로세스의 흐름을 변경시켜서 악성 코드를 실행 시키는 공격 기법
    - 백도어 : 허가받지 않고 시스템에 접속하는 권리, 정상적인 인증 절차를 우회하는 기법

- 보안 관련 용어
    - 스피어 피싱 : 발송 메일의 본문 링크나 첨부된 파일을 클릭하도록 유도하여 사용자의 개인정보를 탈취하는 기법
    - 스미싱 : SMS를 이용하여 개인 비밀정보를 요구하거나 휴대폰 소액 결제를 유도하는 피싱 공격
    - 큐싱 : QR코드를 통해 악성 앱을 내려받도록 유도하여 금융 정보 등을 빼내는 피싱 공격
    - 봇넷 : 악성 프로그램이 감염되어 있는 컴퓨터들이 네트워크로 연결된 형태
    - APT 공격 : 다양한 수단을 통한 지속적이고 지능적인 맞춤형 공격 기법
    - 공급망 공격 : SW 개발사의 네트워크에 침투하여 악의적 코드를 삽입, 서버 배포하여 사용자가 설치 또는 업데이트시에 자동적으로 감염되도록 하는 공격 기법
    - 제로데이 공격 : 보안 취약점이 발견되어 널리 공표되기 전에 해당 취약점을 악용하여 이루어지는 보안 공격 기법
    - 웜 : 스스로 복제하여 네트워크 등의 연결을 통하여 전파하는 악성 소프트웨어 프로그램
    - 악성 봇 : 해커의 명령에 의해 원격에서 제어 또는 실행이 가능한 프로그램 또는 코드
    - 랜섬웨어 :  시스템의 파일을 암호화하여 인질처럼 잡고 몸값을 요구하는 악성 소프트웨어
    - 이블 트윈 공격 : 핫스팟에 연결한 무선 사용자들의 정보를 탈취하는 무선 네트워크 공격

- 서버 인증
    - 다중 사용자 시스템과 망 운영 시스템에서 접속자의 로그인 정보를 확인하는 보안 절차
- 서버 인증 기능
    - 스니핑 방지, 피싱 방지, 데이터 변조 방지, 기업 신뢰도 향상
- 인증 기술의 유형
    - 지식기반 인증 : 사용자가 기억하고 있는 지식 (ID/PW)
    - 소지기반 인증 : 소지하고 있는 사용자 물품 (공인인증서, OTP)
    - 생체기반 인증 : 고유한 사용자의 생체 정보 (홍채, 정맥, 얼굴, 지문)
    - 특징기반 인증 : 사용자의 특징을 활용 (서명, 발걸음, 몸짓)

- 서버 접근 통제
    - 사람 또는 프로세스가 서버 내 파일에 읽기, 쓰기, 실행 등의 접근 여부를 허가하거나 거부하는 기능
- 서버 접근 통제 목적
    - 비인가자로부터 객체의 기밀성, 무결설, 가용성을 보장
- 접근 통제 기법
    - 식별(Identification) : 자신이 누구라고 시스템에 밝히는 행위
    - 인증(Authentication) : 주체의 신원을 검증하기 위한 활동
    - 인가(Authorization) : 인증된 주체에게 접근을 허용하는 활동
    - 책임추적성(Accountability) : 주체의 접근을 추적하고 행동을 기록하는 활동
- 서버 접근 통제 유형
    - 임의적 접근 통제(DAC) : 신분에 근거하여 객체에 대한 접근을 제한하는 방법
    - 강제적 접근 통제(MAC) : 주체가 갖는 접근 허가 권한에 근거하여 객체에 대한 접근을 제한하는 방법
    - 역할 기반 접근 통제(RBAC) : 중앙 관리자가 조직 내 맡은 역할에 기초하여 자원에 대한 접근을 제한하는 방법
- 접근 통제 보호 모델
    - 벨-라파듈라 모델(BLP)
        - 미 국방부지원 보안 모델, 보안 요소 중 기밀성을 강조하며 강제적 정책에 의해 접근 통제하는 모델
            - No Read UP : 보안 수준이 낮은 주체는 보안 수준이 높은 객체를 읽어서는 안 됨
            - No Write Down : 보안수준이 높은 주체는 보안 수준이 낮은 객체에 기록하면 안 됨
    - 비바 모델
        - 벨-라파듈라 모델의 단점을 보완한 무결성을 보장하는 최초의 모델
            - No Read Down : 높은 등급의 주체는 낮은 등급의 객체를 읽을 수 없음
            - No Wirte Up : 낮은 등급의 주체는 상위 등급의 객체를 수정할 수 없음

- 암호 알고리즘(Encryption Algorithm) : 데이터의 무결성 및 기밀성 확보를 위해 정보를 쉽게 해독할 수 없는 형대로 변환하는 기법
    - 양방향 방식 : 대칭 키 암호 방식, 비대칭 키 암호 방식
    - 일방향 해시 함수 방식 : MDC, MAC
- 대칭 키 암호 방식 : 암호화아 복호화에 같은 암호 키를 쓰는 알고리즘
    - 블록 암호 방식 : 고정 길이의 블록을 암호화하여 반복하는 알고리즘 (EDS, AES, SEED)
    - 스트림 암호 방식 : 매우 긴 주기의 난수열을 발생시켜 평문과 더불어 암호문을 생성하는 방식(RC4)
- 비 대칭 키 암호 방식 : 개인 키를 나눠 가지지 않은 사용자들이 안전하게 통신하는 방식, 공개키는 누구나 알 수 있으나 개인키는 키의 소유자만 알고 있어야 한다. (RSA, 디피-헬만)
- 일방향 암호 방식(해시 암호 방식) : 임의 길이의 정보를 입력받아, 고정된 길이의 암호문(해시값)을 출력하는 암호 방식
    - MAC : 키를 사용하는 메시지 인증 코드로 메시지의 무결성과 송신자의 인증 보장
    - MDC : 키를 사용하지 않는 변경 감지 코드로 메시지의 무결성 보장

- 대칭키 암호화 알고리즘
    - DES : 1975년 IBM 개발, 대칭 키 기반
    - SEED : 1999년 한국인터넷진흥원(KISA) 개발
    - AES : 2001년 미국 표준기술 연구소(NIST) 개발
    - ARIA : 2004년 국가정보원과 산학연구협회가 개발
    - IDEA : DES 대체, 스위스 연방기술기관 개발
    - LFSR : 선형함수로 계산되는 구조로 되어있는 스트림 암호화 알고리즘
- 비 대칭키 암호화 알고리즘
    - 디피-헬만 : 최초의 공개키 알고리즘
    - RSA : 1977년 MIT 개발
    - ElGamal : 1984년 EIGamal 개발
    - ECC : 1985 년 RSA 대안으로 개발
- 해시 암호화 알고리즘
    - MD5 : MD4 개선한 암호화 알고리즘, 파일의 무결성 검사에 사용
    - SHA-1 : 1993년 NSA에 미국 정부 표준 지정
    - SHA-256/384/512 : 256비트의 해시값을 생성하는 해시 함수
    - HAS-160 : 국내 표준 서명 알고리즘
    - HAVAL : 메시지를 1024bits 블록으로 나눔

- 안전한 전송을 위한 데이터 암호화 전송
    - 민감한 정보를 통신 채널을 통하여 전송 시에는 반드시 암/복호화 과정을 거쳐야 하고, IPSec, SSL/TLS, S-HTTP 등 보안 채널을 활용하여 전송한다.
- IPSec : IP 계층(3계층)에서 무결성과 인증을 보장하는 인증 헤더(AH)와 기밀성을 보장하는 암호화(ESP)를 이용한 IP 보안 프로토콜
- SSL/TLS : 전송계층(4계층)과 응용계층(7계층) 사이에서 클라이언트와 서버간의 웹 데이터 암호화(기밀성), 상호 인증 및 전송 시 데이터 무결성을 보장하는 보안 프로토콜
- S-HTTP : 웹상에서 네트워크 트래픽을 암호화하는 주요 방법 중 하나로 클라이언트와 서버 간에 전송되는 모든 메시지를 각각 암호화하여 전송하는 기술