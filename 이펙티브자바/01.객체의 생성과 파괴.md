## 1.ê°ì²´ì˜ ìƒì„±
### 1-1. Contructorì™€ Static Factory Methodì˜ ë¹„êµ
```java
//Laptop Class
public class Laptop {
	private String modelName;
    private String company;
}
```

```java
//Constructor
public Laptop(String modelName, String company) {
	this.modelName = modelName;
    this.company = company;
}
```

```java
//ì´ë¦„ì„ ê°€ì§„ Static Factory Method
public static Laptop ofModelNameAndCompany(String modelName, String company) {
	Laptop laptop = new Laptop();
    laptop.company = company;
    laptop.modelName = mpdelName;
    return laptop;
}
```

Lombokì— `@AllargsConstructor`ê°€ ìˆëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  Static Factory Mathodë¥¼ ì‚¬ìš©í•˜ë©´
ì–¸ì œ í¸í• ê¹Œ?

```java
public class LaptopForm {
	private String name;
    private String corp;
}
```

```java
@PostMapping("/add")
public LaptopDto addLaptop(@RequestBody LaptopForm laptopform) {
	//ìƒëµ
}
```
ìœ„ì™€ ê°™ì´ Controllerì— addLaptopì´ë¼ëŠ” ë©”ì„œë“œê°€ ìˆë‹¤ë¼ê³  ê°€ì •í•  ë•Œ,

LaptopFormê³¼ ê°™ì´ Requestë¥¼ ë°›ëŠ” ê°ì²´ë¥¼ ì§€ì •í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

ì´ëŸ´ ë•Œ ì•„ë˜ì™€ ê°™ì´ Laptop Classì— Static Factory Methodë¥¼ ì‚¬ìš©í•˜ì—¬ convert í•´ì¤„ ìˆ˜ ìˆë‹¤.

```java
public class Laptop {
	private String modelName;
    private String company;
    
    public static Laptop from(LaptopForm laptopForm) {
    	Laptop laptop = new Laptop();
        laptop.modelName = laptopForm.getName();
        laptop.company = laptopForm.getCorp();
        return laptop;
    }
}
```

ë˜í•œ Responseë¥¼ ì‘ë‹µ í•  ë•Œë„ ì•„ë˜ì™€ ê°™ì´ Static Factory Methodë¥¼ ì‚¬ìš©í•˜ì—¬ convert í•´ì¤„ ìˆ˜ ìˆë‹¤.
```java
public class LaptopDto {
	private String modelName;
    private String companyName;
    
    public static LaptopDto from(Laptop laptop) {
    	LaptopDto laptopDto = new LaptopDto();
        laptopDto.modelName = laptop.getModelName();
        laptopDto.companyName = laptop.getCompany();
        return laptopDto;
    }
}
```

ê·¸ë˜ì„œ Static Factory Methodë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ì¥ ë‹¨ì ì„ ì •ë¦¬í•´ë³´ìë©´

#### ì¥ì 
- ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
- Simpleí•˜ê³  ëª…í™•í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤ë²ˆ ìƒì„±í•  í•„ìš”ëŠ” ì—†ë‹¤.
  Flyweight pattern - Collection Object
  Singleton pattern - Single Object
  (Singletonì˜ ê²½ìš° í•œ ê°ì²´, Flyweightì˜ ê²½ìš° multipleí•œ ê°ì²´ë¥¼ ë‹¤ë£¬ë‹¤.)
#### ë‹¨ì 
- Static Factory Methodë§Œ ì œê³µí•˜ë©´ Constructorê°€ ì—†ì„ ìˆ˜ ìˆì–´ ìƒì†ë°›ì€ Classë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.
- í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ì¸ì§€ê°€ ì˜ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.


### 1-2. ë§ì€ parameterê°€ ìˆëŠ” ConstructorëŠ” Builderë¥¼ ê³ ë ¤í•˜ë¼

```java
public class NutritionFacts {
	private final int servingSize;		// ml, 1íšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    private final int servings;			// íšŒ, ì´ níšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    private final int calories;			// 1íšŒ ì œê³µëŸ‰ë‹¹ (need)
    private final int fat;				// g/1íšŒ ì œê³µëŸ‰ (option)
    private final int solum;			// mg/1íšŒ ì œê³µëŸ‰ (option)
    private final int carbohydrate;		// g/1íšŒ ì œê³µëŸ‰ (option)
}
```

Pattern 1 : ì—¬ëŸ¬ ê°œì˜ Constructorë¥¼ ë‘”ë‹¤.

Pattern 2 : Java beans Pattern (Setter)


#### Builder ë¥¼ ì§ì ‘ ë§Œë“¤ì—ˆì„ ë•Œ
Builderë¥¼ Lombokì„ í†µí•´ì„œë§Œ ì‚¬ìš©í•´ ì™”ìœ¼ë©´ í•´ë‹¹ ì½”ë“œë¥¼ í•œë²ˆì€ ì£¼ì˜ê¹Šê²Œ ì‚´í•„ í•„ìš”ê°€ ìˆë‹¤.
```java
public class NutritionFacts {
	private final int servingSize;		// ml, 1íšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    private final int servings;			// íšŒ, ì´ níšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    private final int calories;			// 1íšŒ ì œê³µëŸ‰ë‹¹ (need)
    
    public static class Builder {
    	private final int servingSize;
        private final int servings;
        private int calories = 0;
        public Builder(int servingSize, int servings) {
        	this.servingSize = servingSize;
            this.servings = servings;
        }
        public Builder calories(int val) {
        	calories = val;
        	return this;
        }
        public NutritionFacts build() {
        	return new NutritionFacts(this);
        }
    }
}
```

Lombokì„ í†µí•˜ë©´ í›¨ì”¬ ë” Simpleí•´ ì§ˆ ìˆ˜ ìˆë‹¤.
```java
@Data
@Builder(builderMethodName = "hiddenBuilder")
public class NutritionFacts {
	private final int servingSize;		// ml, 1íšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    private final int servings;			// íšŒ, ì´ níšŒ ì œê³µëŸ‰ (í•„ìˆ˜)
    @Builder.Defatult private final int calories = 0;			// 1íšŒ ì œê³µëŸ‰ë‹¹ (need)
    @Builder.Defatult private final int fat = 0;				// g/1íšŒ ì œê³µëŸ‰ (option)
    @Builder.Defatult private final int solum = 0;			// mg/1íšŒ ì œê³µëŸ‰ (option)
    @Builder.Defatult private final int carbohydrate = 0;		// g/1íšŒ ì œê³µëŸ‰ (option)
    
    public static NutritionFacts builder(int servingSize, int servings) {
    	return hiddenBuilder()
        	.servingSize(servingSize)
            .servings(servings);
    }
}
```

ê·¸ë˜ì„œ Builderë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ì¥ ë‹¨ì ì„ ì •ë¦¬í•´ë³´ìë©´

#### ì¥ì 
- ìƒì†ë°›ì€ Classì˜ Builderê°€ ì •ì˜í•œ build ë©”ì„œë“œê°€ ìƒìœ„ ë©”ì„œë“œì˜ íƒ€ì…ì„ return í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìì‹ ì˜ íƒ€ì…ì„ returní•œë‹¤.
#### ë‹¨ì 
- Builderë¥¼ í•­ìƒ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìƒì„± ë¹„ìš©ì´ ë¬´ì¡°ê±´ ìƒê¸´ë‹¤.
- ì ì¸µì  ìƒì„±ì íŒ¨í„´ (Argumentë¥¼ ì—¬ëŸ¬ê°œ ê°€ì§„ Constructor)ë³´ë‹¤ ì¥í™©í•˜ì—¬ ì ì€ ê°¯ìˆ˜ì˜ Parameterì¼ ê²½ìš° ì˜¤íˆë ¤ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

### 1-3. privateConstructorë‚˜ enumTypeìœ¼ë¡œ Singletonì„ì„ ë³´ì¥í•˜ë¼.

```java
//ëŒ€í‘œì ì¸ Singleton Pattern
public class Speaker {
	public static final Speaker INSTANCE = new Speaker();
    privete Speaker() {}
    
    public static Speaker getInstance() {
    	return INSTANCE;
    }
}
```

```java
public class Speaker {
	private static Speaker instance;
    private Speaker() {}
    public static synchronized Speaker getInstance() {
    	if (instance == null) {
        	instance = new Speaker();
        }
        return instance;
    }
}
```
Enum Typeìœ¼ë¡œ Singleton Patternì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
public enum Speaker {
	INSTANCE;
    private String message;
    public Speaker getInstance() {
    	return INSTANCE;
    }
    public void setMessage(String message) {
    	this.message = message;
    }
    public String getMessage() {
    	return message;
    }
}
```
ì‹¤í–‰ì½”ë“œ
```
Speaker speaker1 = Speaker.INSTANCE.getInstance();
speaker1.setMessage("ì•ˆë‚´ ë°©ì†¡ ì¤‘ì…ë‹ˆë‹¤.");
Speaker speaker2 = Speaker.INSTANCE;
System.out.println(speaker1.getMessage()); // ì•ˆë‚´ ë°©ì†¡ ì¤‘ì…ë‹ˆë‹¤.
System.out.println(speaker2.getMessage()); // ì•ˆë‚´ ë°©ì†¡ ì¤‘ì…ë‹ˆë‹¤.
```

í•˜ì§€ë§Œ ì˜¤íˆë ¤ í˜¼ë€ì´ ìƒê²¨ í˜„ì—…ì—ì„œ enumìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.

ì •ë¦¬í•˜ìë©´

Singleton patternì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ê³ , í•­ìƒ ì˜ ìˆ™ì§€í•´ ë‘ì.

ê° ë°©ë²•ì˜ ì°¨ì´ì ì— ëŒ€í•´ ì¸ì§€í•´ ë‘ê³  ì´ë¥¼ ìƒí™©ì— ë§ê²Œ ì„ íƒí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ì.

Enum ë°©ì‹ì€ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ê³ ë ¤í•´ ë³´ì.

### 1-4.Instanceí™”ë¥¼ ë§‰ìœ¼ë ¤ë©´ private constructorë¥¼ ì‚¬ìš©í•˜ë¼
```java
public class PatternUtil {
	private static final String PATTERN =
      "\\b[A-Z0-9._%+-]+@{A-Z0-9.-]+\\.[A-Z\{2,}\\b";
      
    private PatternUtil() {}
    
    public static boolean isEmailValid(String email) {
    	return email.matches(PATTERN);
    }
    
    public String getPattern() {
    	return PATTERN;
    }
}
```
`private PatternUtil() {}`ê°€ ì—†ë‹¤ê³  ê°€ì •í•˜ê³ ,

ì–´ëŠ í•œ ê°œë°œìê°€ PATTERN String ê°’ ìì²´ê°€ í•„ìš”í•´ì§€ëŠ” ìˆœê°„ì´ ì˜¨ë‹¤ë¼ê³  ê°€ì •í•˜ì˜€ì„ ë•Œ,

privateìœ¼ë¡œ ë˜ì–´ìˆëŠ” PATTERNì„ publicìœ¼ë¡œ ë³€ê²½í•˜ë ¤ê³  í•˜ë‹¤ê°€, ì½”ë“œì— ìˆ˜ì • ì—†ì´

`public String getPattern()` ë©”ì†Œë“œë¥¼ ì •ì˜í•˜ê²Œ ëœë‹¤.


ë§Œì•½ì— `private PatternUtil() {}` ì„ ì„ ì–¸í•´ì¤€ë‹¤ë©´ PatternUtil ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„

ì•Œê²Œë˜ê³  `public static String getPatter()`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ê°€ì ¸ì˜¬ê±°ë‹¤.

ì‚¬ëŒì€ ë¯¿ì§€ ë§ì.

ê³¼ê±°ì˜ ë‚˜ğŸ˜ƒ : ì—ì´ ëˆ„ê°€ í•„ìš”ë„ ì—†ëŠ” Instanceë¥¼ ìƒì„±í•˜ê² ì–´? êµ³ì´ ë§‰ì§€ ì•Šì•„ë„ ì•Œì•„ì„œ ë‹¤ë“¤ ì˜ ì§€í‚¬ ìˆ˜ ìˆê² ì§€!

í˜„ì¬ì˜ ë‚˜ğŸ˜‚ : ë°”ì˜ë‹¤ ë°”ë¹ , (ìŠµê´€ì ìœ¼ë¡œ Instance ìƒì„±)

ë¯¸ë˜ì˜ ë‚˜ğŸ˜ˆ : (ë¦¬íŒ©í† ë§ì¤‘) ëˆ„ê°€ í•„ìš”ë„ ì—†ëŠ” Instanceë¥¼ ìƒì„±í•œ ê±°ì•¼? ì–´?? ë‚˜ë„¤?



**ë‚˜ì™€ íŒ€ì›ì˜ ì‹¤ìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì¡°ê¸ˆ ê·€ì°®ë”ë¼ë„ ìƒì„±ìë¥¼ ë§‰ì.**


ì •ë¦¬í•˜ìë©´

ëˆ„êµ°ê°€(ë‚˜ë¥¼ í¬í•¨í•œ)ë¥¼ ë¯¿ì§€ ëª»í•  ìƒí™©ì´ ìˆê³ , Human errorë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´

private constructorë¥¼ ê¶Œì¥í•œë‹¤. (ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•œ ê²ƒì´ ì•„ë‹ˆë‹¤.)


ì¼ë°˜ì ìœ¼ë¡œ Util classì²˜ëŸ¼ ê´€ìš©ì ìœ¼ë¡œ Instanceí™”ë¥¼ í•˜ì§€ ì•Šì„ ê±°ë¼ê³  ëª¨ë‘ê°€ ì´ë¯¸ ì•Œê³  ìˆëŠ” ê²½ìš°ëŠ” ìƒëµí•˜ê¸°ë„ í•œë‹¤.


### 1-5.Resourceë¥¼ ì§ì ‘ ëª…ì‹œí•˜ì§€ ë§ê³ , Dependency Injectionì„ ì‚¬ìš©í•˜ë¼

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Configuration {
...
```
ìƒì‹ ìŒ“ê¸° ì°¨ì›ì—ì„œ @Configuration ì˜ ëª…ì„¸ë¥¼ ê°€ì ¸ì™€ ë´¤ìŠµë‹ˆë‹¤.

@Configurationì€ @Componentë¥¼ í¬í•¨í•˜ê³  ìˆê³ ,

@Componentê°€ Singletonì´ê¸°ì— ìì—°ìŠ¤ëŸ½ê²Œ @Configuration ë˜í•œ Singleton !



ë³€ìˆ˜ë“¤ì„ Config class ë‚´ë¶€ì— ì§ì ‘ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ”ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.

ê·¸ ì´ìœ ëŠ” ì—¬ëŸ¬ ìì›ì„ í™œìš©í•´ì•¼ í•  ê²½ìš°ì— ì í•©í•˜ì§€ ì•Šê³ ,

í™˜ê²½(dev, local)ë³„ë¡œ ë‹¤ë¥¸ ê°’ë“¤ì´ ë“¤ì–´ê°€ì•¼ í•  ë•Œ ì ì ˆí•˜ì§€ ì•Šë‹¤.


ì•„ë˜ì— **ì•ˆ ì¢‹ì€ ì˜ˆ**ë¥¼ ì‚´í´ë³´ì
```java
@Configuration
public class Config {
	private static final String ADDRESS = "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬";
    public Config() {
    	this.ADDRESS = "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬";
    }
}
```

ê·¸ë ‡ë‹¤ë©´ **ì¢‹ì€ ì˜ˆ**ë¥¼ ì‚´í´ë³´ì

application.ymlì— ë“±ë¡ëœ ì •ë³´
```yml
config:
  address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬'
```

```java
@Configuration
public class Config {
	@Value("${config.address}")
    private String address;
}
```

Constructor Injectionì˜ ê²½ìš° Test, flexibilityë¥¼ ë†’ì¼ ìˆ˜ ìˆë‹¤.

ê³ ì •í•´ ë†’ì€ ê°’ì€ ë¹„í•´ í›¨ì”¬ ìœ ì—°í•´ì§„ class (pattern Injection ê°€ëŠ¥)

Test Code ì‘ì„± ì‹œ Injectioní•˜ê¸°ë„ í¸ë¦¬í•˜ë‹¤.
```java
public class PhonePatternChecker {
	private final String pattern;
    
    public PhonePatternChecker(String pattern) {
    	this.pattern = pattern;
    }
    public boolean isValid(String phone) { ... }
}
```

Config Classë¥¼ ìƒê°ì—†ì´ ì‚¬ìš©í•˜ê³  ìˆì§€ëŠ” ì•Šì•˜ëŠ”ì§€

Singletonì„ ì´í•´í•˜ê³  ìˆëŠ”ì§€

Dependency Injection (DI)ë¥¼ ì˜ ì´í•´í•˜ê³  ìˆëŠ”ì§€

ìƒê°í•´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.